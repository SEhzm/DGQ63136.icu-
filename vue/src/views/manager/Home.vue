<template>
  <div><img src="https://pic.imgdb.cn/item/6607ee969f345e8d03ae656d.png" alt="DGä¸¾ç‰Œ" class="DGjvpai">

    <div class="card" style="line-height: 30px">
      <div>
        <b style="margin-left:25px;font-size:27px;color:red;">ğŸ®ğŸ®ğŸ®ğŸ®2024å¹´3æœˆ26æ—¥ä¸‹åˆ15:12ï¼Œæ­å–œä¸¢ä¸¢å‡ºç”Ÿã€‚ğŸ®ğŸ®ğŸ®ğŸ®
          <br>è·ç¦»ä¸¢ä¸¢é«˜è€ƒè¿˜æœ‰{{ diudiugaokao }}å¤©
          <br>è·ç¦»å†¬ç“œè¶…å“¥åˆ˜é ”é’™å¥¶é©¬é£ ç“¦0ï¼š13 ä¸€å‘¨å¹´è¿˜æœ‰{{ DaoJiShi }}å¤©ï¼Œè­¦é’Ÿé•¿é¸£ï¼
          <img src="https://pic.imgdb.cn/item/6607ee8f9f345e8d03ae39d8.png" alt="æç‹—å¤´" class="dog_head"></b>
      </div>

    </div>
    <div class="card" style="line-height: 30px;margin-top: 10px;">
      <div><b>é‰´äºæµé‡ï¼Œåç»­ä¸å®šæ—¶æ›´æ–°ã€‚<em style="font-size: 17px;color: red;">æ–°å¢æ—¶å…‰ç›¸å†Œ2015å¹´-2024å¹´</em></b></div>
    </div>

    <div class="card" style="line-height: 30px; margin-top:8px ;">
      <p>ä½ å¥½ï¼Œå„ä½ç™½å­—ã€‚ <br>
        è¿™æ˜¯ä¸€ä¸ªæ”¶é›†å•æ‰€å¼¹å¹•çš„ç½‘ç«™: <span style="font-size: 24px; font-weight: bold; ">
          <a href="https://dgq63136.icu" style="color: red;">DGQ63136.icu<img
              src="https://pic.imgdb.cn/item/6607ee8f9f345e8d03ae393c.png" alt="é¸¡æ¯™ä½ " class="biabiabia"></a></span>
        <br>
      </p>
    </div>

    <div class="card" style="line-height: 50px ;margin-top: 8px;">
      <div>
        <el-button type="primary" @click="getRandomItem">ç‚¹æˆ‘éšæœºä¸€æ¡å¼¹å¹•</el-button>
        <el-table v-if="randomlySelectedItem" :data="[randomlySelectedItem]" style="font-family: å¾®è½¯é›…é»‘;font-size: 20px;">
          <el-table-column prop="barrage" label="å¼¹å¹•"></el-table-column>
          <el-table-column label="" align="center" width="85">
            <template #default="scope">
              <el-button type="primary" @click="copyText(scope.row.barrage)">å¤åˆ¶</el-button>
            </template>
          </el-table-column>
        </el-table>
        <div v-else>
          <p>æœªé€‰æ‹©éšæœºé¡¹</p>
        </div>
      </div>
    </div>
    <div class="card" style="line-height: 50px ;margin-top: 10px ;margin-bottom: 10px; min-height: 120px;">
      <div>
        <span
          style="position: absolute;font-size: 30px;margin-top: -20px;color: blue ;">--------æœç´¢åœ¨è¿™ï¼ŒğŸ¦å—---------</span>
        <el-input v-model="searchQuery" placeholder="æœç´¢å¼¹å¹•..." style="font-size: 30px;margin-top: 30px;">
          <template>
            <el-button icon="el-icon-search"></el-button>
          </template>
        </el-input>
        <el-table v-if="searchQuery" :data="filteredItems" stripe>
          <el-table-column prop="barrage" label="å¼¹å¹•" display:none></el-table-column>
          <el-table-column label="" align="center" width="85">
            <template #default="scope">
              <el-button type="primary" @click="copyText(scope.row.barrage)">å¤åˆ¶</el-button>
            </template>
          </el-table-column>
        </el-table>
      </div>
    </div>
    <div class="card" style="line-height: 100px ;margin-top: 8px; text-align: center;">
      <a href="https://www.wjx.cn/vm/P9UjaRI.aspx# " target="_blank" style="font-size: 25px;"> <img
          src="https://pic.imgdb.cn/item/6607ee909f345e8d03ae3cc1.png" alt="ğŸ‘ğŸ‘ğŸ‘" class="good">æˆ‘æœ‰æ›´å¥½çš„å¼¹å¹•ï¼ç‚¹å‡»æŠ•ç¨¿ï¼ï¼</a>
    </div>
    <div style="text-align: center;font-size: 17px;margin-left: -250px;">
      <a href="https://beian.miit.gov.cn/" target="_blank">æœ¬ç½‘ç«™åŸºäºè…¾è®¯äº‘æœåŠ¡å™¨æ­å»º&nbsp;&nbsp;&nbsp;&nbsp; Copyright Â© 2024
        æ¡‚ICPå¤‡2024022150å·</a>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      searchQuery: '',
      randomlySelectedItem: null,
      targetDate: new Date('2041-06-07'),
      DaoJiShiDate: new Date('2024-06-29'),

    };

  },
  methods: {
    getRandomItem() {
      if (this.items.length > 0) {
        const randomIndex = Math.floor(Math.random() * this.items.length);
        this.randomlySelectedItem = this.items[randomIndex];
      }
    }
  },
  created() {
    this.getRandomItem();
  },
  computed: {
    filteredItems() {
      return this.searchQuery ? this.items.filter(item =>
        item.barrage.toLowerCase().includes(this.searchQuery.toLowerCase())
      ) : [];
    },
    diudiugaokao() {
      const now = new Date();
      const diffTime = this.targetDate - now;
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      return diffDays;
    },
    DaoJiShi() {
      const now1 = new Date();
      const TimeGap = this.DaoJiShiDate - now1;
      const DJS_Date = Math.ceil(TimeGap / (1000 * 60 * 60 * 24));
      return DJS_Date;
    }
  },


};

</script>

<script setup>
import {reactive} from 'vue'
import request from "@/utils/request";
import {ElMessage} from 'element-plus'

const data = reactive({
  tableData: [],
  total: 0,
  pageSize: 15,
  currentPage: 1,
})

const load = (pageNum = 1) => {
  request.get('/allBarrage/Page', {
    params: {
      pageNum: pageNum,
      pageSize: data.pageSize
    }
  }).then(res => {
    // console.log(res)
    data.tableData = res.data?.list || []
    data.total = res.data?.total || 0
  }).catch(err => {
    console.error('åŠ è½½æ•°æ®å¤±è´¥:', err)
  })
}

load(data.currentPage)

const handlePageChange = (page) => {
  data.currentPage = page
  load(page)
}


const open2 = () => {
  ElMessage({
    message: 'å¤åˆ¶æˆåŠŸ',
    type: 'success',
  })
};

const open4 = () => {
  ElMessage.error('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨navigator.clipboardå¯¹è±¡æˆ–æ‰‹åŠ¨å¤åˆ¶,è¯·å‹¿ä½¿ç”¨å¤¸å…‹æµè§ˆå™¨')
};

const copyText = (text) => {
  navigator.clipboard.writeText(text)
    .then(() => {
      // å¤åˆ¶æˆåŠŸï¼Œå¯ä»¥æ˜¾ç¤ºæç¤ºä¿¡æ¯  
      open2();
      console.log('å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
    })
    .catch((err) => {
      // å¤åˆ¶å¤±è´¥ï¼Œå¯ä»¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯  
      console.error('å¤åˆ¶å¤±è´¥:', err);
      open4()
    });
};

</script>

<style>
.DGjvpai {
  height: 100px;
  margin-bottom: -11px;
  display: flex;
  align-items: center;
}

.dog_head {
  margin-top: -10px;
  height: 70px;
  position: absolute;
}

.biabiabia {
  margin-top: -56px;
  height: 115px;
  position: absolute;
  margin-left: 10px;
}

.good {
  margin-top: -61px;
  height: 175px;
  position: absolute;
  margin-left: -200px;
}
</style>